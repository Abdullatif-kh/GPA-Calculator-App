{"ast":null,"code":"import React,{useState,useEffect,useRef,useCallback,useMemo}from'react';import{Calculator,Check,Moon,Sun,Globe,Download,Upload,Camera}from'lucide-react';import*as XLSX from'xlsx';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const GradeCalculator=()=>{const[system,setSystem]=useState(4);const[courses,setCourses]=useState(Array(5).fill().map((_,i)=>({id:i+1,name:'',credits:1,grade:'',score:'',selected:false})));const[previousCredits,setPreviousCredits]=useState('');const[previousGPA,setPreviousGPA]=useState('');const[previousPoints,setPreviousPoints]=useState('');const[inputType,setInputType]=useState('gpa');const[results,setResults]=useState({semester:0,cumulative:0});const[darkMode,setDarkMode]=useState(false);const[language,setLanguage]=useState('ar');const resultsRef=useRef(null);const fileInputRef=useRef(null);// الترجمات\nconst translations={ar:{title:\"حاسبة المعدل الجامعي\",subtitle:\"احسب معدلك الفصلي والتراكمي بسهولة\",previousData:\"البيانات السابقة\",previousCredits:\"عدد الساعات السابقة\",cumulativeGPA:\"المعدل التراكمي\",cumulativePoints:\"النقاط التراكمية (أكثر دقة)\",system4:\"نظام 4 نقاط\",system5:\"نظام 5 نقاط\",courses:\"المواد الدراسية\",courseName:\"اسم المادة\",credits:\"الساعات\",grade:\"التقدير\",cumulative:\"التراكمي\",semester:\"الفصلي\",excellent:\"ممتاز\",veryGood:\"جيد جداً\",good:\"جيد\",pass:\"مقبول\",fail:\"ضعيف\",select:\"اختر\",score:\"الدرجة\",developer:\"تطوير عبداللطيف الخنبشي\",from:\"من\",statistics:\"إحصائيات\",totalCourses:\"إجمالي المواد\",selectedCourses:\"المواد المحددة\",totalCredits:\"إجمالي الساعات\",averageScore:\"متوسط الدرجات\",gpaChange:\"تغير المعدل\",gpaIncreased:\"ارتفع\",gpaDecreased:\"انخفض\",noChange:\"لا تغيير\",saveAsImage:\"حفظ كصورة\",exportExcel:\"تصدير Excel\",uploadExcel:\"رفع Excel\"},en:{title:\"University GPA Calculator\",subtitle:\"Calculate your semester and cumulative GPA easily\",previousData:\"Previous Data\",previousCredits:\"Previous Credit Hours\",cumulativeGPA:\"Cumulative GPA\",cumulativePoints:\"Cumulative Points (More Accurate)\",system4:\"4-Point System\",system5:\"5-Point System\",courses:\"Courses\",courseName:\"Course Name\",credits:\"Credits\",grade:\"Grade\",cumulative:\"Cumulative\",semester:\"Semester\",excellent:\"Excellent\",veryGood:\"Very Good\",good:\"Good\",pass:\"Pass\",fail:\"Fail\",select:\"Select\",score:\"Score\",course:\"Course\",developer:\"Developed by Abdullatif Alkhanabshi\",from:\"out of\",statistics:\"Statistics\",totalCourses:\"Total Courses\",selectedCourses:\"Selected Courses\",totalCredits:\"Total Credits\",averageScore:\"Average Score\",gpaChange:\"GPA Change\",gpaIncreased:\"Increased\",gpaDecreased:\"Decreased\",noChange:\"No Change\",saveAsImage:\"Save as Image\",exportExcel:\"Export Excel\",uploadExcel:\"Upload Excel\"}};const t=translations[language];// جداول الدرجات\nconst gradeScales=useMemo(()=>({4:language==='ar'?{'أ+':4.00,'أ':3.75,'ب+':3.50,'ب':3.00,'ج+':2.50,'ج':2.00,'د+':1.50,'د':1.00,'هـ':0.00}:{'A+':4.00,'A':3.75,'B+':3.50,'B':3.00,'C+':2.50,'C':2.00,'D+':1.50,'D':1.00,'F':0.00},5:language==='ar'?{'أ+':5.00,'أ':4.75,'ب+':4.50,'ب':4.00,'ج+':3.50,'ج':3.00,'د+':2.50,'د':2.00,'هـ':0.00}:{'A+':5.00,'A':4.75,'B+':4.50,'B':4.00,'C+':3.50,'C':3.00,'D+':2.50,'D':2.00,'F':0.00}}),[language]);const grades=Object.keys(gradeScales[system]);// تحويل الدرجة الرقمية إلى حرفية\nconst scoreToGrade=(score,system,lang)=>{const numScore=parseFloat(score);if(isNaN(numScore))return'';if(numScore>=95)return lang==='ar'?'أ+':'A+';if(numScore>=90)return lang==='ar'?'أ':'A';if(numScore>=85)return lang==='ar'?'ب+':'B+';if(numScore>=80)return lang==='ar'?'ب':'B';if(numScore>=75)return lang==='ar'?'ج+':'C+';if(numScore>=70)return lang==='ar'?'ج':'C';if(numScore>=65)return lang==='ar'?'د+':'D+';if(numScore>=60)return lang==='ar'?'د':'D';return lang==='ar'?'هـ':'F';};// تحويل الدرجة الحرفية إلى رقمية\nconst gradeToScore=grade=>{const gradeMap={'أ+':95,'A+':95,'أ':90,'A':90,'ب+':85,'B+':85,'ب':80,'B':80,'ج+':75,'C+':75,'ج':70,'C':70,'د+':65,'D+':65,'د':60,'D':60,'هـ':50,'F':50};return gradeMap[grade]||'';};// إضافة مادة جديدة\nconst addCourse=()=>{const newId=Math.max(...courses.map(c=>c.id))+1;setCourses([...courses,{id:newId,name:'',credits:1,grade:'',score:'',selected:false}]);};// حذف مادة\nconst removeCourse=id=>{if(courses.length>5){setCourses(courses.filter(course=>course.id!==id));}};// تحديث بيانات المادة\nconst updateCourse=(index,field,value)=>{const newCourses=[...courses];newCourses[index][field]=value;// إذا تم تحديث الدرجة الرقمية، حدث الدرجة الحرفية\nif(field==='score'){newCourses[index].grade=scoreToGrade(value,system,language);}// إذا تم تحديث الدرجة الحرفية، حدث الدرجة الرقمية\nelse if(field==='grade'){newCourses[index].score=gradeToScore(value);}setCourses(newCourses);};// تبديل تحديد المادة\nconst toggleCourse=index=>{const newCourses=[...courses];newCourses[index].selected=!newCourses[index].selected;setCourses(newCourses);};// تبديل الوضع الليلي\nconst toggleDarkMode=()=>{setDarkMode(!darkMode);};// تبديل اللغة\nconst toggleLanguage=()=>{setLanguage(language==='ar'?'en':'ar');};// حساب المعدل\nconst calculateGPA=useCallback(()=>{const selectedCourses=courses.filter(course=>course.selected&&course.grade&&gradeScales[system][course.grade]!==undefined);let totalPoints=0;let totalCredits=0;selectedCourses.forEach(course=>{const credits=parseFloat(course.credits);const gradePoints=gradeScales[system][course.grade];totalPoints+=credits*gradePoints;totalCredits+=credits;});const semesterGPA=totalCredits>0?totalPoints/totalCredits:0;let cumulativeGPA=semesterGPA;if(previousCredits){const prevCredits=parseFloat(previousCredits);let prevTotalPoints=0;if(inputType==='gpa'&&previousGPA){prevTotalPoints=parseFloat(previousGPA)*prevCredits;}else if(inputType==='points'&&previousPoints){prevTotalPoints=parseFloat(previousPoints);}if(prevCredits>0){const totalPrevPoints=prevTotalPoints+totalPoints;const totalPrevCredits=prevCredits+totalCredits;cumulativeGPA=totalPrevCredits>0?totalPrevPoints/totalPrevCredits:0;}}// حساب تغير المعدل\nlet gpaChange=0;let previousGPAValue=0;if(previousCredits&&(inputType==='gpa'&&previousGPA||inputType==='points'&&previousPoints)){const prevCredits=parseFloat(previousCredits);if(inputType==='gpa'&&previousGPA){previousGPAValue=parseFloat(previousGPA);}else if(inputType==='points'&&previousPoints){previousGPAValue=prevCredits>0?parseFloat(previousPoints)/prevCredits:0;}gpaChange=cumulativeGPA-previousGPAValue;}setResults({semester:semesterGPA,cumulative:cumulativeGPA,selectedCoursesCount:selectedCourses.length,totalCredits:totalCredits,averageScore:selectedCourses.length>0?selectedCourses.reduce((sum,course)=>sum+(parseFloat(course.score)||0),0)/selectedCourses.length:0,gpaChange:gpaChange,previousGPA:previousGPAValue});},[courses,previousCredits,previousGPA,previousPoints,inputType,system,gradeScales]);// حفظ النتائج كصورة\nconst saveAsImage=async()=>{if(!resultsRef.current)return;try{// إنشاء canvas من العنصر\nconst canvas=document.createElement('canvas');const ctx=canvas.getContext('2d');// تحديد أبعاد الصورة\ncanvas.width=800;canvas.height=600;// رسم الخلفية\nctx.fillStyle=darkMode?'#1e293b':'#ffffff';ctx.fillRect(0,0,800,600);// رسم النص والمحتوى\nctx.fillStyle=darkMode?'#ffffff':'#000000';ctx.font='16px Arial';ctx.textAlign='center';const centerX=400;let y=80;// عنوان\nctx.font='bold 24px Arial';ctx.fillText(t.title,centerX,y);y+=60;// النتائج\nctx.font='bold 20px Arial';ctx.fillText(\"\".concat(t.semester,\": \").concat(results.semester.toFixed(2)),centerX,y);y+=40;ctx.fillText(\"\".concat(t.cumulative,\": \").concat(results.cumulative.toFixed(2)),centerX,y);y+=60;// الإحصائيات\nctx.font='16px Arial';ctx.fillText(\"\".concat(t.selectedCourses,\": \").concat(results.selectedCoursesCount||0),centerX,y);y+=30;ctx.fillText(\"\".concat(t.totalCredits,\": \").concat(results.totalCredits||0),centerX,y);y+=30;ctx.fillText(\"\".concat(t.averageScore,\": \").concat(results.averageScore?results.averageScore.toFixed(1):'0.0'),centerX,y);// تحويل إلى بيانات الصورة وتنزيلها\nconst dataUrl=canvas.toDataURL('image/png');const link=document.createElement('a');link.download=\"gpa-results-\".concat(new Date().toLocaleDateString(),\".png\");link.href=dataUrl;link.click();}catch(error){console.error('Error saving image:',error);alert(language==='ar'?'حدث خطأ في حفظ الصورة':'Error saving image');}};// تصدير البيانات إلى Excel\nconst exportToExcel=()=>{try{// إعداد بيانات المواد\nconst coursesData=courses.filter(course=>course.selected).map(course=>({[language==='ar'?'اسم المادة':'Course Name']:course.name||\"\".concat(language==='ar'?'المادة':'Course',\" \").concat(course.id),[language==='ar'?'الساعات':'Credits']:course.credits,[language==='ar'?'الدرجة الرقمية':'Numeric Score']:course.score||'',[language==='ar'?'التقدير':'Grade']:course.grade||'',[language==='ar'?'النقاط':'Points']:course.grade&&gradeScales[system][course.grade]?(course.credits*gradeScales[system][course.grade]).toFixed(2):''}));// إعداد بيانات النتائج\nconst resultsData=[{[language==='ar'?'نوع البيانات':'Data Type']:language==='ar'?'النتائج':'Results',[language==='ar'?'المعدل الفصلي':'Semester GPA']:results.semester.toFixed(2),[language==='ar'?'المعدل التراكمي':'Cumulative GPA']:results.cumulative.toFixed(2),[language==='ar'?'نظام الدرجات':'GPA System']:system,[language==='ar'?'عدد المواد':'Number of Courses']:results.selectedCoursesCount||0,[language==='ar'?'إجمالي الساعات':'Total Credits']:results.totalCredits||0,[language==='ar'?'متوسط الدرجات':'Average Score']:results.averageScore?results.averageScore.toFixed(1):'0.0'}];// إعداد البيانات السابقة\nconst previousData=[{[language==='ar'?'الساعات السابقة':'Previous Credits']:previousCredits||'',[language==='ar'?'المعدل السابق':'Previous GPA']:inputType==='gpa'?previousGPA:'',[language==='ar'?'النقاط السابقة':'Previous Points']:inputType==='points'?previousPoints:'',[language==='ar'?'نوع الإدخال':'Input Type']:inputType}];// إنشاء المصنف\nconst workbook=XLSX.utils.book_new();// إضافة أوراق العمل\nconst coursesSheet=XLSX.utils.json_to_sheet(coursesData);const resultsSheet=XLSX.utils.json_to_sheet(resultsData);const previousSheet=XLSX.utils.json_to_sheet(previousData);XLSX.utils.book_append_sheet(workbook,coursesSheet,language==='ar'?'المواد':'Courses');XLSX.utils.book_append_sheet(workbook,resultsSheet,language==='ar'?'النتائج':'Results');XLSX.utils.book_append_sheet(workbook,previousSheet,language==='ar'?'البيانات السابقة':'Previous Data');// تنزيل الملف\nXLSX.writeFile(workbook,\"gpa-data-\".concat(new Date().toLocaleDateString(),\".xlsx\"));}catch(error){console.error('Error exporting to Excel:',error);alert(language==='ar'?'حدث خطأ في تصدير البيانات':'Error exporting data');}};// رفع ملف Excel وقراءة البيانات\nconst handleFileUpload=event=>{const file=event.target.files[0];if(!file)return;const reader=new FileReader();reader.onload=e=>{try{const data=new Uint8Array(e.target.result);const workbook=XLSX.read(data,{type:'array'});// قراءة بيانات المواد\nconst coursesSheetName=workbook.SheetNames.find(name=>name.includes('المواد')||name.includes('Courses'));if(coursesSheetName){const coursesSheet=workbook.Sheets[coursesSheetName];const coursesData=XLSX.utils.sheet_to_json(coursesSheet);if(coursesData.length>0){const newCourses=coursesData.map((row,index)=>({id:index+1,name:row[language==='ar'?'اسم المادة':'Course Name']||'',credits:parseInt(row[language==='ar'?'الساعات':'Credits'])||1,score:row[language==='ar'?'الدرجة الرقمية':'Numeric Score']||'',grade:row[language==='ar'?'التقدير':'Grade']||'',selected:true}));setCourses(newCourses);}}// قراءة البيانات السابقة\nconst previousSheetName=workbook.SheetNames.find(name=>name.includes('البيانات السابقة')||name.includes('Previous Data'));if(previousSheetName){const previousSheet=workbook.Sheets[previousSheetName];const previousDataArray=XLSX.utils.sheet_to_json(previousSheet);if(previousDataArray.length>0){const prevData=previousDataArray[0];setPreviousCredits(prevData[language==='ar'?'الساعات السابقة':'Previous Credits']||'');setInputType(prevData[language==='ar'?'نوع الإدخال':'Input Type']||'gpa');if(prevData[language==='ar'?'المعدل السابق':'Previous GPA']){setPreviousGPA(prevData[language==='ar'?'المعدل السابق':'Previous GPA']);setInputType('gpa');}if(prevData[language==='ar'?'النقاط السابقة':'Previous Points']){setPreviousPoints(prevData[language==='ar'?'النقاط السابقة':'Previous Points']);setInputType('points');}}}alert(language==='ar'?'تم تحميل البيانات بنجاح!':'Data loaded successfully!');}catch(error){console.error('Error reading Excel file:',error);alert(language==='ar'?'حدث خطأ في قراءة الملف':'Error reading file');}};reader.readAsArrayBuffer(file);// إعادة تعيين input للسماح بتحميل نفس الملف مرة أخرى\nevent.target.value='';};useEffect(()=>{calculateGPA();},[calculateGPA]);const getGradeColor=gpa=>{if(gpa>=3.5)return darkMode?'text-green-400':'text-emerald-600';if(gpa>=3.0)return darkMode?'text-sky-400':'text-blue-600';if(gpa>=2.5)return darkMode?'text-yellow-400':'text-amber-600';if(gpa>=2.0)return darkMode?'text-orange-400':'text-orange-600';return darkMode?'text-red-400':'text-red-600';};const getGradeText=gpa=>{if(gpa>=3.5)return t.excellent;if(gpa>=3.0)return t.veryGood;if(gpa>=2.5)return t.good;if(gpa>=2.0)return t.pass;return t.fail;};const getThemeClasses=()=>{if(darkMode){return{bg:\"bg-gradient-to-br from-slate-800 via-gray-900 to-slate-800\",card:\"bg-slate-700/95 border-slate-600/70\",text:\"text-white\",textSecondary:\"text-slate-100\",textMuted:\"text-slate-300\",input:\"bg-slate-600/90 border-slate-500/70 text-white focus:border-blue-400 placeholder-slate-300\",button:\"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700\",selected:\"bg-blue-700/80 border-blue-400\",unselected:\"bg-slate-600/50\"};}else{return{bg:\"bg-gradient-to-br from-violet-50 via-blue-50 to-cyan-50\",card:\"bg-white/70 border-white/30\",text:\"text-gray-800\",textSecondary:\"text-gray-700\",textMuted:\"text-gray-600\",input:\"bg-white/80 border-gray-200 text-gray-800 focus:border-blue-400 placeholder-gray-500\",button:\"bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600\",selected:\"bg-blue-50/50 border-blue-200\",unselected:\"bg-gray-50/30\"};}};const theme=getThemeClasses();return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen \".concat(theme.bg,\" p-4 font-sans transition-all duration-500\"),dir:language==='ar'?'rtl':'ltr',children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-md mx-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center gap-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"p-2 \".concat(theme.button,\" rounded-xl\"),children:/*#__PURE__*/_jsx(Calculator,{className:\"w-6 h-6 text-white\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"px-3 py-2 \".concat(theme.card,\" backdrop-blur-md rounded-xl shadow-lg border transition-all duration-200 flex items-center gap-3\"),children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-semibold \".concat(theme.text),children:language==='ar'?'نظام المعدل':'GPA System'}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setSystem(system===4?5:4),className:\"flex items-center gap-2 hover:scale-105 transition-all duration-200\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-lg font-bold \".concat(system===4?'text-blue-600':'text-purple-600'),children:system}),/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-5 \".concat(system===4?'bg-blue-500':'bg-purple-500',\" rounded-full relative transition-all duration-300 shadow-inner\"),children:/*#__PURE__*/_jsx(\"div\",{className:\"w-4 h-4 bg-white rounded-full absolute top-0.5 transition-all duration-300 shadow-md \".concat(system===4?'left-0.5':'left-5')})})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:toggleLanguage,className:\"p-2 \".concat(theme.card,\" backdrop-blur-md rounded-xl shadow-lg border hover:scale-105 transition-all duration-200\"),children:/*#__PURE__*/_jsx(Globe,{className:\"w-5 h-5 \".concat(theme.text)})}),/*#__PURE__*/_jsx(\"button\",{onClick:toggleDarkMode,className:\"p-2 \".concat(theme.card,\" backdrop-blur-md rounded-xl shadow-lg border hover:scale-105 transition-all duration-200\"),children:darkMode?/*#__PURE__*/_jsx(Sun,{className:\"w-5 h-5 \".concat(theme.text)}):/*#__PURE__*/_jsx(Moon,{className:\"w-5 h-5 \".concat(theme.text)})})]})]}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-2\",children:t.title}),/*#__PURE__*/_jsx(\"p\",{className:\"\".concat(theme.textMuted,\" text-sm\"),children:t.subtitle})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(theme.card,\" backdrop-blur-md rounded-2xl p-5 shadow-xl border mb-5 hover:shadow-2xl transition-all duration-300\"),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-3 h-3 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-bold \".concat(theme.text),children:t.previousData})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-semibold \".concat(theme.textSecondary,\" mb-2 \").concat(language==='ar'?'text-right':'text-left'),children:t.previousCredits}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:previousCredits,onChange:e=>setPreviousCredits(e.target.value),className:\"w-full p-3 \".concat(theme.input,\" border-2 rounded-xl \").concat(language==='ar'?'text-right':'text-left',\" focus:ring-4 focus:ring-blue-100 transition-all duration-200\"),placeholder:language==='ar'?\"مثال: 60\":\"Example: 60\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(darkMode?'bg-slate-600/60 border-slate-500/50':'bg-blue-50/30',\" rounded-xl p-4 border \").concat(darkMode?'':'border-blue-100'),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4 justify-center text-sm mb-4\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center gap-2 cursor-pointer p-2 rounded-lg transition-all \".concat(inputType==='gpa'?darkMode?'bg-blue-600/60 text-white':'bg-blue-100 text-blue-700':darkMode?'hover:bg-slate-500/50 text-white':'hover:bg-blue-50/50'),children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"inputType\",checked:inputType==='gpa',onChange:()=>setInputType('gpa'),className:\"w-4 h-4 text-blue-600 focus:ring-blue-500\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:t.cumulativeGPA})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center gap-2 cursor-pointer p-2 rounded-lg transition-all \".concat(inputType==='points'?darkMode?'bg-purple-600/60 text-white':'bg-purple-100 text-purple-700':darkMode?'hover:bg-slate-500/50 text-white':'hover:bg-purple-50/50'),children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"inputType\",checked:inputType==='points',onChange:()=>setInputType('points'),className:\"w-4 h-4 text-purple-600 focus:ring-purple-500\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:t.cumulativePoints})]})]}),inputType==='gpa'?/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.01\",value:previousGPA,onChange:e=>setPreviousGPA(e.target.value),className:\"w-full p-3 \".concat(theme.input,\" border-2 rounded-xl \").concat(language==='ar'?'text-right':'text-left',\" focus:ring-4 focus:ring-blue-100 transition-all duration-200\"),placeholder:language==='ar'?\"مثال: 3.25\":\"Example: 3.25\"}):/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.01\",value:previousPoints,onChange:e=>setPreviousPoints(e.target.value),className:\"w-full p-3 \".concat(theme.input,\" border-2 rounded-xl \").concat(language==='ar'?'text-right':'text-left',\" focus:ring-4 focus:ring-purple-100 transition-all duration-200\"),placeholder:language==='ar'?\"مثال: 195.00\":\"Example: 195.00\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(theme.card,\" backdrop-blur-md rounded-2xl p-5 shadow-xl border mb-5 hover:shadow-2xl transition-all duration-300\"),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-3 h-3 bg-gradient-to-r from-green-500 to-blue-500 rounded-full\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-bold \".concat(theme.text),children:t.courses})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-6 gap-1 text-center font-bold \".concat(theme.textSecondary,\" text-xs mb-4 pb-3 border-b-2 \").concat(darkMode?'border-slate-500':'border-gray-200'),children:[/*#__PURE__*/_jsx(\"div\",{children:\"\\u2713\"}),/*#__PURE__*/_jsx(\"div\",{children:t.courseName}),/*#__PURE__*/_jsx(\"div\",{children:t.credits}),/*#__PURE__*/_jsx(\"div\",{children:language==='ar'?'الدرجة':'Score'}),/*#__PURE__*/_jsx(\"div\",{children:t.grade}),/*#__PURE__*/_jsx(\"div\",{})]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:courses.map((course,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-6 gap-1 items-center p-2 rounded-xl transition-all duration-200 \".concat(course.selected?theme.selected+' border-2':theme.unselected),children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>toggleCourse(index),className:\"w-5 h-5 rounded-lg border-2 flex items-center justify-center transition-all duration-200 \".concat(course.selected?\"\".concat(theme.button,\" border-blue-500 text-white shadow-lg transform scale-110\"):\"\".concat(darkMode?'border-slate-400 hover:border-blue-400 hover:bg-blue-600/30':'border-gray-300 hover:border-blue-400 hover:bg-blue-50')),children:course.selected&&/*#__PURE__*/_jsx(Check,{className:\"w-3 h-3\"})})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:course.name,onChange:e=>updateCourse(index,'name',e.target.value),className:\"w-full p-1.5 \".concat(theme.input,\" border rounded \").concat(language==='ar'?'text-right':'text-left',\" text-xs focus:ring-1 focus:ring-blue-100 transition-all duration-200 disabled:opacity-50\"),placeholder:language==='ar'?\"\\u0627\\u0644\\u0645\\u0627\\u062F\\u0629 \".concat(course.id):\"Course \".concat(course.id),disabled:!course.selected})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"select\",{value:course.credits,onChange:e=>updateCourse(index,'credits',parseInt(e.target.value)),className:\"w-full p-1.5 \".concat(theme.input,\" border rounded text-center text-xs focus:ring-1 focus:ring-blue-100 transition-all duration-200 disabled:opacity-50\"),disabled:!course.selected,children:[1,2,3,4,5,6].map(credit=>/*#__PURE__*/_jsx(\"option\",{value:credit,children:credit},credit))})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"0\",max:\"100\",value:course.score,onChange:e=>updateCourse(index,'score',e.target.value),className:\"w-full p-1.5 \".concat(theme.input,\" border rounded text-center text-xs focus:ring-1 focus:ring-blue-100 transition-all duration-200 disabled:opacity-50\"),placeholder:\"85\",disabled:!course.selected})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"select\",{value:course.grade,onChange:e=>updateCourse(index,'grade',e.target.value),className:\"w-full p-1.5 \".concat(theme.input,\" border rounded text-center text-xs focus:ring-1 focus:ring-blue-100 transition-all duration-200 disabled:opacity-50\"),disabled:!course.selected,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:t.select}),grades.map(grade=>/*#__PURE__*/_jsx(\"option\",{value:grade,children:grade},grade))]})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center\",children:courses.length>5&&course.id>5&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>removeCourse(course.id),className:\"w-6 h-6 bg-red-500 hover:bg-red-600 text-white rounded-lg text-xs flex items-center justify-center transition-all duration-200 shadow-lg hover:scale-110\",title:language==='ar'?'حذف المادة':'Delete Course',children:\"\\uD83D\\uDDD1\\uFE0F\"})})]},course.id))}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 pt-4 border-t border-gray-200 dark:border-slate-500 flex justify-center\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:addCourse,className:\"px-4 py-2 \".concat(theme.button,\" text-white rounded-lg text-sm font-medium hover:scale-105 transition-all duration-200 shadow-lg flex items-center gap-2\"),children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-base\",children:\"+\"}),language==='ar'?'إضافة مادة':'Add Course']})})]}),/*#__PURE__*/_jsxs(\"div\",{ref:resultsRef,className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4 mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(theme.card,\" backdrop-blur-md rounded-2xl p-5 shadow-xl border text-center hover:shadow-2xl hover:scale-105 transition-all duration-300\"),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-3xl mb-2\",children:\"\\uD83D\\uDCCA\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-bold \".concat(theme.text),children:t.cumulative})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-3xl font-black \".concat(getGradeColor(results.cumulative)),children:results.cumulative.toFixed(2)}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs \".concat(theme.textMuted,\" font-medium\"),children:[t.from,\" \",system]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-semibold px-3 py-2 rounded-xl \".concat(getGradeColor(results.cumulative)),children:getGradeText(results.cumulative)})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(theme.card,\" backdrop-blur-md rounded-2xl p-5 shadow-xl border text-center hover:shadow-2xl hover:scale-105 transition-all duration-300\"),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-3xl mb-2\",children:\"\\uD83D\\uDCC8\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-bold \".concat(theme.text),children:t.semester})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-3xl font-black \".concat(getGradeColor(results.semester)),children:results.semester.toFixed(2)}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs \".concat(theme.textMuted,\" font-medium\"),children:[t.from,\" \",system]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-semibold px-3 py-2 rounded-xl \".concat(getGradeColor(results.semester)),children:getGradeText(results.semester)})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(theme.card,\" backdrop-blur-md rounded-2xl p-4 shadow-xl border hover:shadow-2xl transition-all duration-300\"),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 mb-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-3 h-3 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-bold \".concat(theme.text),children:t.statistics})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(darkMode?'bg-green-700/50 border border-green-500/50':'bg-green-50/50',\" rounded-xl p-3 text-center\"),children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold \".concat(darkMode?'text-green-400':'text-green-600'),children:results.selectedCoursesCount||0}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs \".concat(theme.textMuted),children:t.selectedCourses})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(darkMode?'bg-purple-700/50 border border-purple-500/50':'bg-purple-50/50',\" rounded-xl p-3 text-center\"),children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold \".concat(darkMode?'text-purple-400':'text-purple-600'),children:results.totalCredits||0}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs \".concat(theme.textMuted),children:t.totalCredits})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(darkMode?'bg-orange-700/50 border border-orange-500/50':'bg-orange-50/50',\" rounded-xl p-3 text-center\"),children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold \".concat(darkMode?'text-orange-400':'text-orange-600'),children:results.averageScore?results.averageScore.toFixed(1):'0.0'}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs \".concat(theme.textMuted),children:t.averageScore})]}),/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(darkMode?'bg-sky-700/50 border border-sky-500/50':'bg-blue-50/50',\" rounded-xl p-3 text-center\"),children:results.gpaChange!==undefined&&results.previousGPA>0?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-2xl font-bold \".concat(results.gpaChange>0?darkMode?'text-green-400':'text-green-600':results.gpaChange<0?darkMode?'text-red-400':'text-red-600':darkMode?'text-slate-300':'text-gray-600'),children:[results.gpaChange>0?'+':'',results.gpaChange.toFixed(2)]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs \".concat(theme.textMuted),children:results.gpaChange>0?t.gpaIncreased:results.gpaChange<0?t.gpaDecreased:t.noChange})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold \".concat(darkMode?'text-slate-400':'text-gray-600'),children:\"--\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs \".concat(theme.textMuted),children:t.gpaChange})]})})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-8 grid grid-cols-3 gap-3 mb-8\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:saveAsImage,className:\"\".concat(theme.button,\" text-white py-3 px-3 rounded-xl font-medium hover:scale-105 transition-all duration-200 shadow-lg flex items-center justify-center gap-2\"),children:[/*#__PURE__*/_jsx(Camera,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:language==='ar'?'صورة':'Image'})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:exportToExcel,className:\"bg-gradient-to-r from-emerald-600 to-green-600 hover:from-emerald-700 hover:to-green-700 text-white py-3 px-3 rounded-xl font-medium hover:scale-105 transition-all duration-200 shadow-lg flex items-center justify-center gap-2\",children:[/*#__PURE__*/_jsx(Download,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:language==='ar'?'تصدير':'Export'})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{var _fileInputRef$current;return(_fileInputRef$current=fileInputRef.current)===null||_fileInputRef$current===void 0?void 0:_fileInputRef$current.click();},className:\"bg-gradient-to-r from-teal-600 to-cyan-600 hover:from-teal-700 hover:to-cyan-700 text-white py-3 px-3 rounded-xl font-medium hover:scale-105 transition-all duration-200 shadow-lg flex items-center justify-center gap-2\",children:[/*#__PURE__*/_jsx(Upload,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:language==='ar'?'رفع':'Upload'})]})]}),/*#__PURE__*/_jsx(\"input\",{ref:fileInputRef,type:\"file\",accept:\".xlsx,.xls\",onChange:handleFileUpload,className:\"hidden\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(theme.card,\" backdrop-blur-md rounded-xl p-3 inline-block shadow-lg border\"),children:/*#__PURE__*/_jsx(\"p\",{className:\"text-xs \".concat(theme.textMuted,\" font-medium\"),children:t.developer})})})]})});};export default GradeCalculator;","map":{"version":3,"names":["React","useState","useEffect","useRef","useCallback","useMemo","Calculator","Check","Moon","Sun","Globe","Download","Upload","Camera","XLSX","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","GradeCalculator","system","setSystem","courses","setCourses","Array","fill","map","_","i","id","name","credits","grade","score","selected","previousCredits","setPreviousCredits","previousGPA","setPreviousGPA","previousPoints","setPreviousPoints","inputType","setInputType","results","setResults","semester","cumulative","darkMode","setDarkMode","language","setLanguage","resultsRef","fileInputRef","translations","ar","title","subtitle","previousData","cumulativeGPA","cumulativePoints","system4","system5","courseName","excellent","veryGood","good","pass","fail","select","developer","from","statistics","totalCourses","selectedCourses","totalCredits","averageScore","gpaChange","gpaIncreased","gpaDecreased","noChange","saveAsImage","exportExcel","uploadExcel","en","course","t","gradeScales","grades","Object","keys","scoreToGrade","lang","numScore","parseFloat","isNaN","gradeToScore","gradeMap","addCourse","newId","Math","max","c","removeCourse","length","filter","updateCourse","index","field","value","newCourses","toggleCourse","toggleDarkMode","toggleLanguage","calculateGPA","undefined","totalPoints","forEach","gradePoints","semesterGPA","prevCredits","prevTotalPoints","totalPrevPoints","totalPrevCredits","previousGPAValue","selectedCoursesCount","reduce","sum","current","canvas","document","createElement","ctx","getContext","width","height","fillStyle","fillRect","font","textAlign","centerX","y","fillText","concat","toFixed","dataUrl","toDataURL","link","download","Date","toLocaleDateString","href","click","error","console","alert","exportToExcel","coursesData","resultsData","workbook","utils","book_new","coursesSheet","json_to_sheet","resultsSheet","previousSheet","book_append_sheet","writeFile","handleFileUpload","event","file","target","files","reader","FileReader","onload","e","data","Uint8Array","result","read","type","coursesSheetName","SheetNames","find","includes","Sheets","sheet_to_json","row","parseInt","previousSheetName","previousDataArray","prevData","readAsArrayBuffer","getGradeColor","gpa","getGradeText","getThemeClasses","bg","card","text","textSecondary","textMuted","input","button","unselected","theme","className","dir","children","onClick","onChange","placeholder","checked","step","disabled","credit","min","ref","_fileInputRef$current","accept"],"sources":["/home/xq55/GPA-Calculator-main/src/components/GradeCalculator.js"],"sourcesContent":["import React, { useState, useEffect, useRef, useCallback, useMemo } from 'react';\nimport { Calculator, Check, Moon, Sun, Globe, Download, Upload, Camera } from 'lucide-react';\nimport * as XLSX from 'xlsx';\n\nconst GradeCalculator = () => {\n    const [system, setSystem] = useState(4);\n    const [courses, setCourses] = useState(Array(5).fill().map((_, i) => ({\n        id: i + 1,\n        name: '',\n        credits: 1,\n        grade: '',\n        score: '',\n        selected: false\n    })));\n    const [previousCredits, setPreviousCredits] = useState('');\n    const [previousGPA, setPreviousGPA] = useState('');\n    const [previousPoints, setPreviousPoints] = useState('');\n    const [inputType, setInputType] = useState('gpa');\n    const [results, setResults] = useState({ semester: 0, cumulative: 0 });\n    const [darkMode, setDarkMode] = useState(false);\n    const [language, setLanguage] = useState('ar');\n    const resultsRef = useRef(null);\n    const fileInputRef = useRef(null);\n\n    // الترجمات\n    const translations = {\n        ar: {\n            title: \"حاسبة المعدل الجامعي\",\n            subtitle: \"احسب معدلك الفصلي والتراكمي بسهولة\",\n            previousData: \"البيانات السابقة\",\n            previousCredits: \"عدد الساعات السابقة\",\n            cumulativeGPA: \"المعدل التراكمي\",\n            cumulativePoints: \"النقاط التراكمية (أكثر دقة)\",\n            system4: \"نظام 4 نقاط\",\n            system5: \"نظام 5 نقاط\",\n            courses: \"المواد الدراسية\",\n            courseName: \"اسم المادة\",\n            credits: \"الساعات\",\n            grade: \"التقدير\",\n            cumulative: \"التراكمي\",\n            semester: \"الفصلي\",\n            excellent: \"ممتاز\",\n            veryGood: \"جيد جداً\",\n            good: \"جيد\",\n            pass: \"مقبول\",\n            fail: \"ضعيف\",\n            select: \"اختر\",\n            score: \"الدرجة\",\n            developer: \"تطوير عبداللطيف الخنبشي\",\n            from: \"من\",\n            statistics: \"إحصائيات\",\n            totalCourses: \"إجمالي المواد\",\n            selectedCourses: \"المواد المحددة\",\n            totalCredits: \"إجمالي الساعات\",\n            averageScore: \"متوسط الدرجات\",\n            gpaChange: \"تغير المعدل\",\n            gpaIncreased: \"ارتفع\",\n            gpaDecreased: \"انخفض\",\n            noChange: \"لا تغيير\",\n            saveAsImage: \"حفظ كصورة\",\n            exportExcel: \"تصدير Excel\",\n            uploadExcel: \"رفع Excel\"\n        },\n        en: {\n            title: \"University GPA Calculator\",\n            subtitle: \"Calculate your semester and cumulative GPA easily\",\n            previousData: \"Previous Data\",\n            previousCredits: \"Previous Credit Hours\",\n            cumulativeGPA: \"Cumulative GPA\",\n            cumulativePoints: \"Cumulative Points (More Accurate)\",\n            system4: \"4-Point System\",\n            system5: \"5-Point System\",\n            courses: \"Courses\",\n            courseName: \"Course Name\",\n            credits: \"Credits\",\n            grade: \"Grade\",\n            cumulative: \"Cumulative\",\n            semester: \"Semester\",\n            excellent: \"Excellent\",\n            veryGood: \"Very Good\",\n            good: \"Good\",\n            pass: \"Pass\",\n            fail: \"Fail\",\n            select: \"Select\",\n            score: \"Score\",\n            course: \"Course\",\n            developer: \"Developed by Abdullatif Alkhanabshi\",\n            from: \"out of\",\n            statistics: \"Statistics\",\n            totalCourses: \"Total Courses\",\n            selectedCourses: \"Selected Courses\",\n            totalCredits: \"Total Credits\",\n            averageScore: \"Average Score\",\n            gpaChange: \"GPA Change\",\n            gpaIncreased: \"Increased\",\n            gpaDecreased: \"Decreased\",\n            noChange: \"No Change\",\n            saveAsImage: \"Save as Image\",\n            exportExcel: \"Export Excel\",\n            uploadExcel: \"Upload Excel\"\n        }\n    };\n\n    const t = translations[language];\n\n    // جداول الدرجات\n    const gradeScales = useMemo(() => ({\n        4: language === 'ar' ? {\n            'أ+': 4.00, 'أ': 3.75, 'ب+': 3.50, 'ب': 3.00, 'ج+': 2.50,\n            'ج': 2.00, 'د+': 1.50, 'د': 1.00, 'هـ': 0.00\n        } : {\n            'A+': 4.00, 'A': 3.75, 'B+': 3.50, 'B': 3.00, 'C+': 2.50,\n            'C': 2.00, 'D+': 1.50, 'D': 1.00, 'F': 0.00\n        },\n        5: language === 'ar' ? {\n            'أ+': 5.00, 'أ': 4.75, 'ب+': 4.50, 'ب': 4.00, 'ج+': 3.50,\n            'ج': 3.00, 'د+': 2.50, 'د': 2.00, 'هـ': 0.00\n        } : {\n            'A+': 5.00, 'A': 4.75, 'B+': 4.50, 'B': 4.00, 'C+': 3.50,\n            'C': 3.00, 'D+': 2.50, 'D': 2.00, 'F': 0.00\n        }\n    }), [language]);\n\n    const grades = Object.keys(gradeScales[system]);\n\n    // تحويل الدرجة الرقمية إلى حرفية\n    const scoreToGrade = (score, system, lang) => {\n        const numScore = parseFloat(score);\n        if (isNaN(numScore)) return '';\n\n        if (numScore >= 95) return lang === 'ar' ? 'أ+' : 'A+';\n        if (numScore >= 90) return lang === 'ar' ? 'أ' : 'A';\n        if (numScore >= 85) return lang === 'ar' ? 'ب+' : 'B+';\n        if (numScore >= 80) return lang === 'ar' ? 'ب' : 'B';\n        if (numScore >= 75) return lang === 'ar' ? 'ج+' : 'C+';\n        if (numScore >= 70) return lang === 'ar' ? 'ج' : 'C';\n        if (numScore >= 65) return lang === 'ar' ? 'د+' : 'D+';\n        if (numScore >= 60) return lang === 'ar' ? 'د' : 'D';\n        return lang === 'ar' ? 'هـ' : 'F';\n    };\n\n    // تحويل الدرجة الحرفية إلى رقمية\n    const gradeToScore = (grade) => {\n        const gradeMap = {\n            'أ+': 95, 'A+': 95,\n            'أ': 90, 'A': 90,\n            'ب+': 85, 'B+': 85,\n            'ب': 80, 'B': 80,\n            'ج+': 75, 'C+': 75,\n            'ج': 70, 'C': 70,\n            'د+': 65, 'D+': 65,\n            'د': 60, 'D': 60,\n            'هـ': 50, 'F': 50\n        };\n        return gradeMap[grade] || '';\n    };\n\n    // إضافة مادة جديدة\n    const addCourse = () => {\n        const newId = Math.max(...courses.map(c => c.id)) + 1;\n        setCourses([...courses, {\n            id: newId,\n            name: '',\n            credits: 1,\n            grade: '',\n            score: '',\n            selected: false\n        }]);\n    };\n\n    // حذف مادة\n    const removeCourse = (id) => {\n        if (courses.length > 5) {\n            setCourses(courses.filter(course => course.id !== id));\n        }\n    };\n\n    // تحديث بيانات المادة\n    const updateCourse = (index, field, value) => {\n        const newCourses = [...courses];\n        newCourses[index][field] = value;\n\n        // إذا تم تحديث الدرجة الرقمية، حدث الدرجة الحرفية\n        if (field === 'score') {\n            newCourses[index].grade = scoreToGrade(value, system, language);\n        }\n        // إذا تم تحديث الدرجة الحرفية، حدث الدرجة الرقمية\n        else if (field === 'grade') {\n            newCourses[index].score = gradeToScore(value);\n        }\n\n        setCourses(newCourses);\n    };\n\n    // تبديل تحديد المادة\n    const toggleCourse = (index) => {\n        const newCourses = [...courses];\n        newCourses[index].selected = !newCourses[index].selected;\n        setCourses(newCourses);\n    };\n\n    // تبديل الوضع الليلي\n    const toggleDarkMode = () => {\n        setDarkMode(!darkMode);\n    };\n\n    // تبديل اللغة\n    const toggleLanguage = () => {\n        setLanguage(language === 'ar' ? 'en' : 'ar');\n    };\n\n    // حساب المعدل\n    const calculateGPA = useCallback(() => {\n        const selectedCourses = courses.filter(course =>\n            course.selected && course.grade && gradeScales[system][course.grade] !== undefined\n        );\n\n        let totalPoints = 0;\n        let totalCredits = 0;\n\n        selectedCourses.forEach(course => {\n            const credits = parseFloat(course.credits);\n            const gradePoints = gradeScales[system][course.grade];\n            totalPoints += credits * gradePoints;\n            totalCredits += credits;\n        });\n\n        const semesterGPA = totalCredits > 0 ? totalPoints / totalCredits : 0;\n\n        let cumulativeGPA = semesterGPA;\n\n        if (previousCredits) {\n            const prevCredits = parseFloat(previousCredits);\n            let prevTotalPoints = 0;\n\n            if (inputType === 'gpa' && previousGPA) {\n                prevTotalPoints = parseFloat(previousGPA) * prevCredits;\n            } else if (inputType === 'points' && previousPoints) {\n                prevTotalPoints = parseFloat(previousPoints);\n            }\n\n            if (prevCredits > 0) {\n                const totalPrevPoints = prevTotalPoints + totalPoints;\n                const totalPrevCredits = prevCredits + totalCredits;\n                cumulativeGPA = totalPrevCredits > 0 ? totalPrevPoints / totalPrevCredits : 0;\n            }\n        }\n\n        // حساب تغير المعدل\n        let gpaChange = 0;\n        let previousGPAValue = 0;\n        if (previousCredits && ((inputType === 'gpa' && previousGPA) || (inputType === 'points' && previousPoints))) {\n            const prevCredits = parseFloat(previousCredits);\n            if (inputType === 'gpa' && previousGPA) {\n                previousGPAValue = parseFloat(previousGPA);\n            } else if (inputType === 'points' && previousPoints) {\n                previousGPAValue = prevCredits > 0 ? parseFloat(previousPoints) / prevCredits : 0;\n            }\n            gpaChange = cumulativeGPA - previousGPAValue;\n        }\n\n        setResults({\n            semester: semesterGPA,\n            cumulative: cumulativeGPA,\n            selectedCoursesCount: selectedCourses.length,\n            totalCredits: totalCredits,\n            averageScore: selectedCourses.length > 0 ?\n                selectedCourses.reduce((sum, course) => sum + (parseFloat(course.score) || 0), 0) / selectedCourses.length : 0,\n            gpaChange: gpaChange,\n            previousGPA: previousGPAValue\n        });\n    }, [courses, previousCredits, previousGPA, previousPoints, inputType, system, gradeScales]);\n\n    // حفظ النتائج كصورة\n    const saveAsImage = async () => {\n        if (!resultsRef.current) return;\n\n        try {\n            // إنشاء canvas من العنصر\n            const canvas = document.createElement('canvas');\n            const ctx = canvas.getContext('2d');\n\n            // تحديد أبعاد الصورة\n            canvas.width = 800;\n            canvas.height = 600;\n\n            // رسم الخلفية\n            ctx.fillStyle = darkMode ? '#1e293b' : '#ffffff';\n            ctx.fillRect(0, 0, 800, 600);\n\n            // رسم النص والمحتوى\n            ctx.fillStyle = darkMode ? '#ffffff' : '#000000';\n            ctx.font = '16px Arial';\n            ctx.textAlign = 'center';\n\n            const centerX = 400;\n            let y = 80;\n\n            // عنوان\n            ctx.font = 'bold 24px Arial';\n            ctx.fillText(t.title, centerX, y);\n            y += 60;\n\n            // النتائج\n            ctx.font = 'bold 20px Arial';\n            ctx.fillText(`${t.semester}: ${results.semester.toFixed(2)}`, centerX, y);\n            y += 40;\n            ctx.fillText(`${t.cumulative}: ${results.cumulative.toFixed(2)}`, centerX, y);\n            y += 60;\n\n            // الإحصائيات\n            ctx.font = '16px Arial';\n            ctx.fillText(`${t.selectedCourses}: ${results.selectedCoursesCount || 0}`, centerX, y);\n            y += 30;\n            ctx.fillText(`${t.totalCredits}: ${results.totalCredits || 0}`, centerX, y);\n            y += 30;\n            ctx.fillText(`${t.averageScore}: ${results.averageScore ? results.averageScore.toFixed(1) : '0.0'}`, centerX, y);\n\n            // تحويل إلى بيانات الصورة وتنزيلها\n            const dataUrl = canvas.toDataURL('image/png');\n            const link = document.createElement('a');\n            link.download = `gpa-results-${new Date().toLocaleDateString()}.png`;\n            link.href = dataUrl;\n            link.click();\n        } catch (error) {\n            console.error('Error saving image:', error);\n            alert(language === 'ar' ? 'حدث خطأ في حفظ الصورة' : 'Error saving image');\n        }\n    };\n\n    // تصدير البيانات إلى Excel\n    const exportToExcel = () => {\n        try {\n            // إعداد بيانات المواد\n            const coursesData = courses.filter(course => course.selected).map(course => ({\n                [language === 'ar' ? 'اسم المادة' : 'Course Name']: course.name || `${language === 'ar' ? 'المادة' : 'Course'} ${course.id}`,\n                [language === 'ar' ? 'الساعات' : 'Credits']: course.credits,\n                [language === 'ar' ? 'الدرجة الرقمية' : 'Numeric Score']: course.score || '',\n                [language === 'ar' ? 'التقدير' : 'Grade']: course.grade || '',\n                [language === 'ar' ? 'النقاط' : 'Points']: course.grade && gradeScales[system][course.grade] ?\n                    (course.credits * gradeScales[system][course.grade]).toFixed(2) : ''\n            }));\n\n            // إعداد بيانات النتائج\n            const resultsData = [{\n                [language === 'ar' ? 'نوع البيانات' : 'Data Type']: language === 'ar' ? 'النتائج' : 'Results',\n                [language === 'ar' ? 'المعدل الفصلي' : 'Semester GPA']: results.semester.toFixed(2),\n                [language === 'ar' ? 'المعدل التراكمي' : 'Cumulative GPA']: results.cumulative.toFixed(2),\n                [language === 'ar' ? 'نظام الدرجات' : 'GPA System']: system,\n                [language === 'ar' ? 'عدد المواد' : 'Number of Courses']: results.selectedCoursesCount || 0,\n                [language === 'ar' ? 'إجمالي الساعات' : 'Total Credits']: results.totalCredits || 0,\n                [language === 'ar' ? 'متوسط الدرجات' : 'Average Score']: results.averageScore ? results.averageScore.toFixed(1) : '0.0'\n            }];\n\n            // إعداد البيانات السابقة\n            const previousData = [{\n                [language === 'ar' ? 'الساعات السابقة' : 'Previous Credits']: previousCredits || '',\n                [language === 'ar' ? 'المعدل السابق' : 'Previous GPA']: inputType === 'gpa' ? previousGPA : '',\n                [language === 'ar' ? 'النقاط السابقة' : 'Previous Points']: inputType === 'points' ? previousPoints : '',\n                [language === 'ar' ? 'نوع الإدخال' : 'Input Type']: inputType\n            }];\n\n            // إنشاء المصنف\n            const workbook = XLSX.utils.book_new();\n\n            // إضافة أوراق العمل\n            const coursesSheet = XLSX.utils.json_to_sheet(coursesData);\n            const resultsSheet = XLSX.utils.json_to_sheet(resultsData);\n            const previousSheet = XLSX.utils.json_to_sheet(previousData);\n\n            XLSX.utils.book_append_sheet(workbook, coursesSheet, language === 'ar' ? 'المواد' : 'Courses');\n            XLSX.utils.book_append_sheet(workbook, resultsSheet, language === 'ar' ? 'النتائج' : 'Results');\n            XLSX.utils.book_append_sheet(workbook, previousSheet, language === 'ar' ? 'البيانات السابقة' : 'Previous Data');\n\n            // تنزيل الملف\n            XLSX.writeFile(workbook, `gpa-data-${new Date().toLocaleDateString()}.xlsx`);\n        } catch (error) {\n            console.error('Error exporting to Excel:', error);\n            alert(language === 'ar' ? 'حدث خطأ في تصدير البيانات' : 'Error exporting data');\n        }\n    };\n\n    // رفع ملف Excel وقراءة البيانات\n    const handleFileUpload = (event) => {\n        const file = event.target.files[0];\n        if (!file) return;\n\n        const reader = new FileReader();\n        reader.onload = (e) => {\n            try {\n                const data = new Uint8Array(e.target.result);\n                const workbook = XLSX.read(data, { type: 'array' });\n\n                // قراءة بيانات المواد\n                const coursesSheetName = workbook.SheetNames.find(name =>\n                    name.includes('المواد') || name.includes('Courses')\n                );\n\n                if (coursesSheetName) {\n                    const coursesSheet = workbook.Sheets[coursesSheetName];\n                    const coursesData = XLSX.utils.sheet_to_json(coursesSheet);\n\n                    if (coursesData.length > 0) {\n                        const newCourses = coursesData.map((row, index) => ({\n                            id: index + 1,\n                            name: row[language === 'ar' ? 'اسم المادة' : 'Course Name'] || '',\n                            credits: parseInt(row[language === 'ar' ? 'الساعات' : 'Credits']) || 1,\n                            score: row[language === 'ar' ? 'الدرجة الرقمية' : 'Numeric Score'] || '',\n                            grade: row[language === 'ar' ? 'التقدير' : 'Grade'] || '',\n                            selected: true\n                        }));\n\n                        setCourses(newCourses);\n                    }\n                }\n\n                // قراءة البيانات السابقة\n                const previousSheetName = workbook.SheetNames.find(name =>\n                    name.includes('البيانات السابقة') || name.includes('Previous Data')\n                );\n\n                if (previousSheetName) {\n                    const previousSheet = workbook.Sheets[previousSheetName];\n                    const previousDataArray = XLSX.utils.sheet_to_json(previousSheet);\n\n                    if (previousDataArray.length > 0) {\n                        const prevData = previousDataArray[0];\n                        setPreviousCredits(prevData[language === 'ar' ? 'الساعات السابقة' : 'Previous Credits'] || '');\n                        setInputType(prevData[language === 'ar' ? 'نوع الإدخال' : 'Input Type'] || 'gpa');\n\n                        if (prevData[language === 'ar' ? 'المعدل السابق' : 'Previous GPA']) {\n                            setPreviousGPA(prevData[language === 'ar' ? 'المعدل السابق' : 'Previous GPA']);\n                            setInputType('gpa');\n                        }\n\n                        if (prevData[language === 'ar' ? 'النقاط السابقة' : 'Previous Points']) {\n                            setPreviousPoints(prevData[language === 'ar' ? 'النقاط السابقة' : 'Previous Points']);\n                            setInputType('points');\n                        }\n                    }\n                }\n\n                alert(language === 'ar' ? 'تم تحميل البيانات بنجاح!' : 'Data loaded successfully!');\n            } catch (error) {\n                console.error('Error reading Excel file:', error);\n                alert(language === 'ar' ? 'حدث خطأ في قراءة الملف' : 'Error reading file');\n            }\n        };\n\n        reader.readAsArrayBuffer(file);\n        // إعادة تعيين input للسماح بتحميل نفس الملف مرة أخرى\n        event.target.value = '';\n    };\n\n    useEffect(() => {\n        calculateGPA();\n    }, [calculateGPA]);\n\n    const getGradeColor = (gpa) => {\n        if (gpa >= 3.5) return darkMode ? 'text-green-400' : 'text-emerald-600';\n        if (gpa >= 3.0) return darkMode ? 'text-sky-400' : 'text-blue-600';\n        if (gpa >= 2.5) return darkMode ? 'text-yellow-400' : 'text-amber-600';\n        if (gpa >= 2.0) return darkMode ? 'text-orange-400' : 'text-orange-600';\n        return darkMode ? 'text-red-400' : 'text-red-600';\n    };\n\n    const getGradeText = (gpa) => {\n        if (gpa >= 3.5) return t.excellent;\n        if (gpa >= 3.0) return t.veryGood;\n        if (gpa >= 2.5) return t.good;\n        if (gpa >= 2.0) return t.pass;\n        return t.fail;\n    };\n\n    const getThemeClasses = () => {\n        if (darkMode) {\n            return {\n                bg: \"bg-gradient-to-br from-slate-800 via-gray-900 to-slate-800\",\n                card: \"bg-slate-700/95 border-slate-600/70\",\n                text: \"text-white\",\n                textSecondary: \"text-slate-100\",\n                textMuted: \"text-slate-300\",\n                input: \"bg-slate-600/90 border-slate-500/70 text-white focus:border-blue-400 placeholder-slate-300\",\n                button: \"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700\",\n                selected: \"bg-blue-700/80 border-blue-400\",\n                unselected: \"bg-slate-600/50\"\n            };\n        } else {\n            return {\n                bg: \"bg-gradient-to-br from-violet-50 via-blue-50 to-cyan-50\",\n                card: \"bg-white/70 border-white/30\",\n                text: \"text-gray-800\",\n                textSecondary: \"text-gray-700\",\n                textMuted: \"text-gray-600\",\n                input: \"bg-white/80 border-gray-200 text-gray-800 focus:border-blue-400 placeholder-gray-500\",\n                button: \"bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600\",\n                selected: \"bg-blue-50/50 border-blue-200\",\n                unselected: \"bg-gray-50/30\"\n            };\n        }\n    };\n\n    const theme = getThemeClasses();\n\n    return (\n        <div className={`min-h-screen ${theme.bg} p-4 font-sans transition-all duration-500`} dir={language === 'ar' ? 'rtl' : 'ltr'}>\n            <div className=\"max-w-md mx-auto\">\n\n                <div className=\"text-center mb-6\">\n                    <div className=\"flex items-center justify-between mb-4\">\n                        <div className=\"flex items-center gap-3\">\n                            <div className={`p-2 ${theme.button} rounded-xl`}>\n                                <Calculator className=\"w-6 h-6 text-white\" />\n                            </div>\n                        </div>\n\n                        <div className=\"flex items-center gap-2\">\n                            <div className={`px-3 py-2 ${theme.card} backdrop-blur-md rounded-xl shadow-lg border transition-all duration-200 flex items-center gap-3`}>\n                                <span className={`text-sm font-semibold ${theme.text}`}>\n                                    {language === 'ar' ? 'نظام المعدل' : 'GPA System'}\n                                </span>\n                                <button\n                                    onClick={() => setSystem(system === 4 ? 5 : 4)}\n                                    className=\"flex items-center gap-2 hover:scale-105 transition-all duration-200\"\n                                >\n                                    <span className={`text-lg font-bold ${system === 4 ? 'text-blue-600' : 'text-purple-600'}`}>\n                                        {system}\n                                    </span>\n                                    <div className={`w-10 h-5 ${system === 4 ? 'bg-blue-500' : 'bg-purple-500'} rounded-full relative transition-all duration-300 shadow-inner`}>\n                                        <div className={`w-4 h-4 bg-white rounded-full absolute top-0.5 transition-all duration-300 shadow-md ${system === 4 ? 'left-0.5' : 'left-5'}`}></div>\n                                    </div>\n                                </button>\n                            </div>\n\n                            <button\n                                onClick={toggleLanguage}\n                                className={`p-2 ${theme.card} backdrop-blur-md rounded-xl shadow-lg border hover:scale-105 transition-all duration-200`}\n                            >\n                                <Globe className={`w-5 h-5 ${theme.text}`} />\n                            </button>\n\n                            <button\n                                onClick={toggleDarkMode}\n                                className={`p-2 ${theme.card} backdrop-blur-md rounded-xl shadow-lg border hover:scale-105 transition-all duration-200`}\n                            >\n                                {darkMode ? (\n                                    <Sun className={`w-5 h-5 ${theme.text}`} />\n                                ) : (\n                                    <Moon className={`w-5 h-5 ${theme.text}`} />\n                                )}\n                            </button>\n                        </div>\n                    </div>\n\n                    <h1 className={`text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-2`}>\n                        {t.title}\n                    </h1>\n                    <p className={`${theme.textMuted} text-sm`}>{t.subtitle}</p>\n                </div>\n\n                <div className={`${theme.card} backdrop-blur-md rounded-2xl p-5 shadow-xl border mb-5 hover:shadow-2xl transition-all duration-300`}>\n                    <div className=\"flex items-center gap-2 mb-4\">\n                        <div className=\"w-3 h-3 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full\"></div>\n                        <h2 className={`text-lg font-bold ${theme.text}`}>{t.previousData}</h2>\n                    </div>\n\n                    <div className=\"space-y-4\">\n                        <div>\n                            <label className={`block text-sm font-semibold ${theme.textSecondary} mb-2 ${language === 'ar' ? 'text-right' : 'text-left'}`}>\n                                {t.previousCredits}\n                            </label>\n                            <input\n                                type=\"number\"\n                                value={previousCredits}\n                                onChange={(e) => setPreviousCredits(e.target.value)}\n                                className={`w-full p-3 ${theme.input} border-2 rounded-xl ${language === 'ar' ? 'text-right' : 'text-left'} focus:ring-4 focus:ring-blue-100 transition-all duration-200`}\n                                placeholder={language === 'ar' ? \"مثال: 60\" : \"Example: 60\"}\n                            />\n                        </div>\n\n                        <div className={`${darkMode ? 'bg-slate-600/60 border-slate-500/50' : 'bg-blue-50/30'} rounded-xl p-4 border ${darkMode ? '' : 'border-blue-100'}`}>\n                            <div className=\"flex items-center gap-4 justify-center text-sm mb-4\">\n                                <label className={`flex items-center gap-2 cursor-pointer p-2 rounded-lg transition-all ${inputType === 'gpa' ? (darkMode ? 'bg-blue-600/60 text-white' : 'bg-blue-100 text-blue-700') : (darkMode ? 'hover:bg-slate-500/50 text-white' : 'hover:bg-blue-50/50')}`}>\n                                    <input\n                                        type=\"radio\"\n                                        name=\"inputType\"\n                                        checked={inputType === 'gpa'}\n                                        onChange={() => setInputType('gpa')}\n                                        className=\"w-4 h-4 text-blue-600 focus:ring-blue-500\"\n                                    />\n                                    <span className=\"font-medium\">{t.cumulativeGPA}</span>\n                                </label>\n                                <label className={`flex items-center gap-2 cursor-pointer p-2 rounded-lg transition-all ${inputType === 'points' ? (darkMode ? 'bg-purple-600/60 text-white' : 'bg-purple-100 text-purple-700') : (darkMode ? 'hover:bg-slate-500/50 text-white' : 'hover:bg-purple-50/50')}`}>\n                                    <input\n                                        type=\"radio\"\n                                        name=\"inputType\"\n                                        checked={inputType === 'points'}\n                                        onChange={() => setInputType('points')}\n                                        className=\"w-4 h-4 text-purple-600 focus:ring-purple-500\"\n                                    />\n                                    <span className=\"font-medium\">{t.cumulativePoints}</span>\n                                </label>\n                            </div>\n\n                            {inputType === 'gpa' ? (\n                                <input\n                                    type=\"number\"\n                                    step=\"0.01\"\n                                    value={previousGPA}\n                                    onChange={(e) => setPreviousGPA(e.target.value)}\n                                    className={`w-full p-3 ${theme.input} border-2 rounded-xl ${language === 'ar' ? 'text-right' : 'text-left'} focus:ring-4 focus:ring-blue-100 transition-all duration-200`}\n                                    placeholder={language === 'ar' ? \"مثال: 3.25\" : \"Example: 3.25\"}\n                                />\n                            ) : (\n                                <input\n                                    type=\"number\"\n                                    step=\"0.01\"\n                                    value={previousPoints}\n                                    onChange={(e) => setPreviousPoints(e.target.value)}\n                                    className={`w-full p-3 ${theme.input} border-2 rounded-xl ${language === 'ar' ? 'text-right' : 'text-left'} focus:ring-4 focus:ring-purple-100 transition-all duration-200`}\n                                    placeholder={language === 'ar' ? \"مثال: 195.00\" : \"Example: 195.00\"}\n                                />\n                            )}\n                        </div>\n                    </div>\n                </div>\n\n                <div className={`${theme.card} backdrop-blur-md rounded-2xl p-5 shadow-xl border mb-5 hover:shadow-2xl transition-all duration-300`}>\n                    <div className=\"flex items-center gap-2 mb-4\">\n                        <div className=\"w-3 h-3 bg-gradient-to-r from-green-500 to-blue-500 rounded-full\"></div>\n                        <h2 className={`text-lg font-bold ${theme.text}`}>{t.courses}</h2>\n                    </div>\n\n                    <div className={`grid grid-cols-6 gap-1 text-center font-bold ${theme.textSecondary} text-xs mb-4 pb-3 border-b-2 ${darkMode ? 'border-slate-500' : 'border-gray-200'}`}>\n                        <div>✓</div>\n                        <div>{t.courseName}</div>\n                        <div>{t.credits}</div>\n                        <div>{language === 'ar' ? 'الدرجة' : 'Score'}</div>\n                        <div>{t.grade}</div>\n                        <div></div>\n                    </div>\n\n                    <div className=\"space-y-3\">\n                        {courses.map((course, index) => (\n                            <div key={course.id} className={`grid grid-cols-6 gap-1 items-center p-2 rounded-xl transition-all duration-200 ${course.selected ? theme.selected + ' border-2' : theme.unselected}`}>\n\n                                <div className=\"flex items-center justify-center\">\n                                    <button\n                                        onClick={() => toggleCourse(index)}\n                                        className={`w-5 h-5 rounded-lg border-2 flex items-center justify-center transition-all duration-200 ${course.selected\n                                                ? `${theme.button} border-blue-500 text-white shadow-lg transform scale-110`\n                                                : `${darkMode ? 'border-slate-400 hover:border-blue-400 hover:bg-blue-600/30' : 'border-gray-300 hover:border-blue-400 hover:bg-blue-50'}`\n                                            }`}\n                                    >\n                                        {course.selected && <Check className=\"w-3 h-3\" />}\n                                    </button>\n                                </div>\n\n                                <div>\n                                    <input\n                                        type=\"text\"\n                                        value={course.name}\n                                        onChange={(e) => updateCourse(index, 'name', e.target.value)}\n                                        className={`w-full p-1.5 ${theme.input} border rounded ${language === 'ar' ? 'text-right' : 'text-left'} text-xs focus:ring-1 focus:ring-blue-100 transition-all duration-200 disabled:opacity-50`}\n                                        placeholder={language === 'ar' ? `المادة ${course.id}` : `Course ${course.id}`}\n                                        disabled={!course.selected}\n                                    />\n                                </div>\n\n                                <div>\n                                    <select\n                                        value={course.credits}\n                                        onChange={(e) => updateCourse(index, 'credits', parseInt(e.target.value))}\n                                        className={`w-full p-1.5 ${theme.input} border rounded text-center text-xs focus:ring-1 focus:ring-blue-100 transition-all duration-200 disabled:opacity-50`}\n                                        disabled={!course.selected}\n                                    >\n                                        {[1, 2, 3, 4, 5, 6].map(credit => (\n                                            <option key={credit} value={credit}>{credit}</option>\n                                        ))}\n                                    </select>\n                                </div>\n\n                                <div>\n                                    <input\n                                        type=\"number\"\n                                        min=\"0\"\n                                        max=\"100\"\n                                        value={course.score}\n                                        onChange={(e) => updateCourse(index, 'score', e.target.value)}\n                                        className={`w-full p-1.5 ${theme.input} border rounded text-center text-xs focus:ring-1 focus:ring-blue-100 transition-all duration-200 disabled:opacity-50`}\n                                        placeholder=\"85\"\n                                        disabled={!course.selected}\n                                    />\n                                </div>\n\n                                <div>\n                                    <select\n                                        value={course.grade}\n                                        onChange={(e) => updateCourse(index, 'grade', e.target.value)}\n                                        className={`w-full p-1.5 ${theme.input} border rounded text-center text-xs focus:ring-1 focus:ring-blue-100 transition-all duration-200 disabled:opacity-50`}\n                                        disabled={!course.selected}\n                                    >\n                                        <option value=\"\">{t.select}</option>\n                                        {grades.map(grade => (\n                                            <option key={grade} value={grade}>{grade}</option>\n                                        ))}\n                                    </select>\n                                </div>\n\n                                <div className=\"flex justify-center\">\n                                    {courses.length > 5 && course.id > 5 && (\n                                        <button\n                                            onClick={() => removeCourse(course.id)}\n                                            className=\"w-6 h-6 bg-red-500 hover:bg-red-600 text-white rounded-lg text-xs flex items-center justify-center transition-all duration-200 shadow-lg hover:scale-110\"\n                                            title={language === 'ar' ? 'حذف المادة' : 'Delete Course'}\n                                        >\n                                            🗑️\n                                        </button>\n                                    )}\n                                </div>\n                            </div>\n                        ))}\n                    </div>\n\n                    <div className=\"mt-4 pt-4 border-t border-gray-200 dark:border-slate-500 flex justify-center\">\n                        <button\n                            onClick={addCourse}\n                            className={`px-4 py-2 ${theme.button} text-white rounded-lg text-sm font-medium hover:scale-105 transition-all duration-200 shadow-lg flex items-center gap-2`}\n                        >\n                            <span className=\"text-base\">+</span>\n                            {language === 'ar' ? 'إضافة مادة' : 'Add Course'}\n                        </button>\n                    </div>\n                </div>\n\n                <div ref={resultsRef} className=\"space-y-6\">\n                    <div className=\"grid grid-cols-2 gap-4 mb-6\">\n\n                        <div className={`${theme.card} backdrop-blur-md rounded-2xl p-5 shadow-xl border text-center hover:shadow-2xl hover:scale-105 transition-all duration-300`}>\n                            <div className=\"mb-4\">\n                                <div className=\"text-3xl mb-2\">📊</div>\n                                <h3 className={`text-lg font-bold ${theme.text}`}>{t.cumulative}</h3>\n                            </div>\n                            <div className=\"space-y-3\">\n                                <div className={`text-3xl font-black ${getGradeColor(results.cumulative)}`}>\n                                    {results.cumulative.toFixed(2)}\n                                </div>\n                                <div className={`text-xs ${theme.textMuted} font-medium`}>{t.from} {system}</div>\n                                <div className={`text-sm font-semibold px-3 py-2 rounded-xl ${getGradeColor(results.cumulative)}`}>\n                                    {getGradeText(results.cumulative)}\n                                </div>\n                            </div>\n                        </div>\n\n                        <div className={`${theme.card} backdrop-blur-md rounded-2xl p-5 shadow-xl border text-center hover:shadow-2xl hover:scale-105 transition-all duration-300`}>\n                            <div className=\"mb-4\">\n                                <div className=\"text-3xl mb-2\">📈</div>\n                                <h3 className={`text-lg font-bold ${theme.text}`}>{t.semester}</h3>\n                            </div>\n                            <div className=\"space-y-3\">\n                                <div className={`text-3xl font-black ${getGradeColor(results.semester)}`}>\n                                    {results.semester.toFixed(2)}\n                                </div>\n                                <div className={`text-xs ${theme.textMuted} font-medium`}>{t.from} {system}</div>\n                                <div className={`text-sm font-semibold px-3 py-2 rounded-xl ${getGradeColor(results.semester)}`}>\n                                    {getGradeText(results.semester)}\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={`${theme.card} backdrop-blur-md rounded-2xl p-4 shadow-xl border hover:shadow-2xl transition-all duration-300`}>\n                        <div className=\"flex items-center gap-2 mb-3\">\n                            <div className=\"w-3 h-3 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full\"></div>\n                            <h3 className={`text-lg font-bold ${theme.text}`}>{t.statistics}</h3>\n                        </div>\n\n                        <div className=\"grid grid-cols-2 gap-3\">\n                            <div className={`${darkMode ? 'bg-green-700/50 border border-green-500/50' : 'bg-green-50/50'} rounded-xl p-3 text-center`}>\n                                <div className={`text-2xl font-bold ${darkMode ? 'text-green-400' : 'text-green-600'}`}>{results.selectedCoursesCount || 0}</div>\n                                <div className={`text-xs ${theme.textMuted}`}>{t.selectedCourses}</div>\n                            </div>\n\n                            <div className={`${darkMode ? 'bg-purple-700/50 border border-purple-500/50' : 'bg-purple-50/50'} rounded-xl p-3 text-center`}>\n                                <div className={`text-2xl font-bold ${darkMode ? 'text-purple-400' : 'text-purple-600'}`}>{results.totalCredits || 0}</div>\n                                <div className={`text-xs ${theme.textMuted}`}>{t.totalCredits}</div>\n                            </div>\n\n                            <div className={`${darkMode ? 'bg-orange-700/50 border border-orange-500/50' : 'bg-orange-50/50'} rounded-xl p-3 text-center`}>\n                                <div className={`text-2xl font-bold ${darkMode ? 'text-orange-400' : 'text-orange-600'}`}>\n                                    {results.averageScore ? results.averageScore.toFixed(1) : '0.0'}\n                                </div>\n                                <div className={`text-xs ${theme.textMuted}`}>{t.averageScore}</div>\n                            </div>\n\n                            <div className={`${darkMode ? 'bg-sky-700/50 border border-sky-500/50' : 'bg-blue-50/50'} rounded-xl p-3 text-center`}>\n                                {results.gpaChange !== undefined && results.previousGPA > 0 ? (\n                                    <>\n                                        <div className={`text-2xl font-bold ${results.gpaChange > 0 ? (darkMode ? 'text-green-400' : 'text-green-600') :\n                                                results.gpaChange < 0 ? (darkMode ? 'text-red-400' : 'text-red-600') : (darkMode ? 'text-slate-300' : 'text-gray-600')\n                                            }`}>\n                                            {results.gpaChange > 0 ? '+' : ''}{results.gpaChange.toFixed(2)}\n                                        </div>\n                                        <div className={`text-xs ${theme.textMuted}`}>\n                                            {results.gpaChange > 0 ? t.gpaIncreased :\n                                                results.gpaChange < 0 ? t.gpaDecreased : t.noChange}\n                                        </div>\n                                    </>\n                                ) : (\n                                    <>\n                                        <div className={`text-2xl font-bold ${darkMode ? 'text-slate-400' : 'text-gray-600'}`}>--</div>\n                                        <div className={`text-xs ${theme.textMuted}`}>{t.gpaChange}</div>\n                                    </>\n                                )}\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                <div className=\"mt-8 grid grid-cols-3 gap-3 mb-8\">\n                    <button\n                        onClick={saveAsImage}\n                        className={`${theme.button} text-white py-3 px-3 rounded-xl font-medium hover:scale-105 transition-all duration-200 shadow-lg flex items-center justify-center gap-2`}\n                    >\n                        <Camera className=\"w-4 h-4\" />\n                        <span className=\"text-sm\">{language === 'ar' ? 'صورة' : 'Image'}</span>\n                    </button>\n\n                    <button\n                        onClick={exportToExcel}\n                        className=\"bg-gradient-to-r from-emerald-600 to-green-600 hover:from-emerald-700 hover:to-green-700 text-white py-3 px-3 rounded-xl font-medium hover:scale-105 transition-all duration-200 shadow-lg flex items-center justify-center gap-2\"\n                    >\n                        <Download className=\"w-4 h-4\" />\n                        <span className=\"text-sm\">{language === 'ar' ? 'تصدير' : 'Export'}</span>\n                    </button>\n\n                    <button\n                        onClick={() => fileInputRef.current?.click()}\n                        className=\"bg-gradient-to-r from-teal-600 to-cyan-600 hover:from-teal-700 hover:to-cyan-700 text-white py-3 px-3 rounded-xl font-medium hover:scale-105 transition-all duration-200 shadow-lg flex items-center justify-center gap-2\"\n                    >\n                        <Upload className=\"w-4 h-4\" />\n                        <span className=\"text-sm\">{language === 'ar' ? 'رفع' : 'Upload'}</span>\n                    </button>\n                </div>\n\n                <input\n                    ref={fileInputRef}\n                    type=\"file\"\n                    accept=\".xlsx,.xls\"\n                    onChange={handleFileUpload}\n                    className=\"hidden\"\n                />\n\n                <div className=\"text-center\">\n                    <div className={`${theme.card} backdrop-blur-md rounded-xl p-3 inline-block shadow-lg border`}>\n                        <p className={`text-xs ${theme.textMuted} font-medium`}>{t.developer}</p>\n                    </div>\n                </div>\n\n            </div>\n        </div>\n    );\n};\n\nexport default GradeCalculator;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}